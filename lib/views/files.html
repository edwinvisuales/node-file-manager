<!DOCTYPE html>
<html lang="en" ng-app="FMApp">
<head>
  <meta charset="UTF-8">
  <title>Gestor de archivos</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <script src="js/1.4.5-angular.min.js"></script>
  <script src="js/angular-file.js"></script>
  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="js/1.0.0.materialize.min.js"></script>
  <script src="js/custom.js"></script>
  <script src="js/app.js"></script>
  <link href="css/fonts.css" rel="stylesheet">
  <link rel="stylesheet" href="css/materializecss.min.css">
  <link rel="stylesheet" href="css/bootstrap.css">
  <link rel="stylesheet" href="css/custom.css">
  <style>
    body {
      background-color: black !important;
    }
  </style>
</head>
<!-- <header>
    <nav class="grey darken-4">
        <div class="container">
          <div class="row">
              <div class="nav-wrapper">
                <a href="#" class="brand-logo">Gestor de Archivos</a>
                <a href="#" data-target="slide-out" class="sidenav-trigger"><i class="material-icons">menu</i></a>

                <ul id="nav-mobile" class="right hide-on-med-and-down">
                    <li><a href="badges.html">Components</a></li>
                </ul>
              </div>
          </div>
        </div>
      </nav>
</header> -->
<div class="progress loader1">
  <div class="indeterminate"></div>
</div>
<!-- <ul id="slide-out" class="sidenav">
  <li><div class="user-view">
    <div class="background">
      <img src="images/office.jpg">
    </div>
    <a href="#user"><img class="circle" src="images/yuna.jpg"></a>
    <a href="#name"><span class="white-text name">John Doe</span></a>
    <a href="#email"><span class="white-text email">jdandturk@gmail.com</span></a>
  </div></li>
  <li><a href="#!"><i class="material-icons">cloud</i>First Link With Icon</a></li>
  <li><a href="#!">Second Link</a></li>
  <li><div class="divider"></div></li>
  <li><a class="subheader">Subheader</a></li>
  <li><a class="waves-effect" href="#!">Third Link With Waves</a></li>
</ul> -->
<body class="" ng-controller="FileManagerCtr as FM">
  <div class="mt-2 small-container">
    <div class="row">
      <div ng-repeat="file in FM.curFiles | orderBy:'folder'" style="border-style: solid; border-color: black; border-radius: 10px;" class="card col s6 m4 l3 xl2  m-0 p-2">
        <div>
          <a href="" ng-click="check(file)" class="waves-effect waves-blue">
            <span class="{{file.folder ? 'red-text text-darken-4' : 'blue-text text-darken-4'}} material-icons left">{{icon(file)}}</span>
            <span  class="grey-text text-darken-4">
              {{file.folder ? file.name.substr(0,12) : file.name.substr(0,8) + '...' + file.name.substr(name.length - 3)}}
            </span>
          </a>
          <span class="grey-text text-darken-4 material-icons right">info</span>
        </div>
      </div>
    </div>
  <!-- Modals -->
  <!-- Modal - Show Photo -->
  <div class="modal" id="modal-showPhoto">
    <div class="modal-content">
      <h5>{{nombre.substr(0,20)}}</h5>
      <div class="row">
        <img src="{{'api' + ruta}}" class="col s12 materialboxed" alt="">
        <a ng-click="FM.clickFile(archivo)" href="" class="mt-2 col s12 btn waves-effect waves-light">Descargar</a>
      </div>
    </div>
  </div>
  <!-- actions -->
  <div class="fixed-action-btn ">
    <a class="btn-floating btn-large waves-effect waves-light blue mx-lg-5">
        <i class="large material-icons">mode_edit</i>
      </a>
      <ul>
      <!-- <li><a class="btn-floating blue" id="upload" ng-disabled="FM.btnDisabled('upload_file')" data-toggle="modal" data-target="#uploadFileModal"><i class="material-icons" >file_upload</i></a></li> -->
      <!-- <li><a class="btn-floating waves-effect waves-light yellow darken-1"><i class="material-icons">format_quote</i></a></li> -->
      <!-- <li><a class="btn-floating green"><i class="material-icons">publish</i></a></li> -->
      <!-- <li><a class="btn-floating blue"><i class="material-icons">attach_file</i></a></li> -->
      <li><a class="btn-floating waves-effect waves-light green" id="createFolderModal" ng-disabled="FM.btnDisabled('create_folder')" data-toggle="modal" data-target="#createFolderModal" ><i class="material-icons">create_new_folder</i></a></li>
      <li><a id="upload" class="btn-floating waves-effect waves-light red"><i class="material-icons">attach_file</i></a></li>
    </ul>
  </div>
    <!-- Modal - Create Folder -->
    <div class="modal" id="modal-createFolder">
      <div class="modal-content">
        <h4>Nueva carpeta</h4>
        <div class="row">
          <form class="col s12">
            <div class="row">
              <div class="input-field col s12">
                <i class="material-icons prefix">folder</i>
                <input type="text" id="folderName" class="validate" autofocus ng-model="FM.newFolderName"/>
                <label for="folderName">Nombre de Carpeta</label>
                </div>
              </div>
            </form>
          </div>
          <div class="row">
            <div class="col s6">
              <a class="btn waves-effect waves-light close-createFolder" data-dismiss="modal" ng-disabled="!FM.newFolderName" ng-click="FM.createFolder(FM.newFolderName)">
                <i class="material-icons left">check</i>
                <span>ACEPTAR</span>
              </a>
            </div>
            <div class="col s6">
              <a class="btn waves-effect waves-light close-createFolder" data-dismiss="modal"><i class="material-icons left">close</i>
                <span>CERRAR</span>
              </a>
            </div>
        </div>
      </div>
    </div>
    <!-- Modal - Upload file -->
    <div class="modal" id="modal-chooseUpload">
      <div class="modal-content">
        <div class="row">

          <div class="col s6 center-align">
            <input required style="visibility:hidden;" accept="video/*" type="file" multiple="multiple" ng-model="FM.uploadFile"  style="position:fixed" onchange="submitUploadVideo();closeUpload();" id="customVideo">
            <label class="waves-effect waves-light btn-floating btn-large blue" for="customVideo"><i class="material-icons">video_library</i></label>
            <br>
            <b> Vídeos</b>
            <submit id="submitVideo" type="submit" ng-click="FM.upload()"></submit>
          </div>

          <div class="col s6 center-align">
            <input style="visibility:hidden;" accept="image/*" type="file" multiple="multiple"  ng-model="FM.uploadFile"  style="position:fixed" onchange="submitUploadImage();closeUpload()" id="customImage">
            <label class="waves-effect waves-light btn-floating btn-large red" onchange="submitUploadImage();closeUpload();" for="customImage"><i class="material-icons">image</i></label>
            <submit id="submitImage" type="submit" ng-click="FM.upload()"></submit>
            <br>
            <b> Imágenes</b>
          </div>

        </div>
      </div>
    </div>
    <!-- Modal Rename -->
    <div class="modal fade" id="renameModal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4>Renombrar</h4>
          </div>
          <div class="modal-body">
            <label class="control-label">Nuevo nombre</label><input class="form-control" autofocus ng-model="FM.newName" placeholder={{FM.selection[0].name}} />
          </div>
          <div class="modal-footer">
            <button type="button" class="close-rename btn btn-default" data-dismiss="modal">Cancelar</button>
            <button type="button" class="close-rename btn btn-primary" data-dismiss="modal" ng-disabled="!FM.newName" ng-click="FM.rename(FM.newName)">OK</button>
          </div>
        </div>
      </div>
    </div>
    <!-- modal move -->
    <div class="modal fade" id="moveModal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4>Mover</h4>
          </div>
          <div class="modal-body">
            <label class="control-label">Etiqueta</label><input class="form-control" autofocus ng-model="FM.moveTarget" placeholder="{{FM.curFolderPath}}" />
          </div>
          <div class="modal-footer">
            <button type="button" class="close-move btn btn-default" data-dismiss="modal">Cancelar</button>
            <button type="button" class="close-move btn btn-primary" data-dismiss="modal" ng-disabled="!FM.moveTarget" ng-click="FM.move(FM.moveTarget)">OK</button>
          </div>
        </div>
      </div>
    </div>
    <!-- modal archive -->
    <div class="modal fade" id="archiveModal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4>Crear Archivo comprimido</h4>
          </div>
          <div class="modal-body">
            <label class="control-label">Nombre</label><input class="form-control" autofocus ng-model="FM.archiveTarget" placeholder="Enter name of archive" />
            <div class="checkbox">
              <label><input type="checkbox" ng-init="FM.archiveEmbedDirs = true" ng-model="FM.archiveEmbedDirs"> guardar directorios a un archivo comprimido</label>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="close-archive btn btn-default" data-dismiss="modal">Cancelar</button>
            <button type="button" class="close-archive btn btn-primary" data-dismiss="modal" ng-disabled="!FM.archiveTarget" ng-click="FM.archive(FM.archiveTarget)">Create</button>
          </div>
        </div>
      </div>
    </div>
</body>

</html>